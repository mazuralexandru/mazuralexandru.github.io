<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Explanation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
    rel="stylesheet">
  <link rel="preload" href="./utils/fonts/pixelgrid-squarebolds.woff" as="font" type="font/woff" crossorigin="">
  <link rel="preload" href="./utils/fonts/pixelgrid-squareboldm.woff" as="font" type="font/woff" crossorigin="">
  <link rel="preload" href="./utils/fonts/pixelgrid-squareboldxl.woff" as="font" type="font/woff" crossorigin="">
  <link rel="stylesheet" href="./utils/styles/explanationStyle.css">
  <link href="./utils/styles/explanationPrismTheme.css" rel="stylesheet" />
</head>
<body>
  <h1>188. The <code>download</code> Attribute: Behavior &amp; Same-Origin Policy</h1>
<p>Let&#39;s clarify the expected behavior and limitations of the <code class="language-html">download</code> attribute, particularly regarding the <strong>same-origin policy</strong>.</p>
<p><strong>Expected Behavior:</strong></p>
<ul>
<li>The primary intent of <code>download</code> is to signal to the browser: &quot;Treat this linked resource as a download, not as content to navigate to or display inline.&quot;</li>
<li>It attempts to override default browser handling for MIME types like images or PDFs.</li>
<li>It aims to trigger a &quot;Save As...&quot; dialog prompt.</li>
<li>It allows suggesting a custom filename if a value is provided.</li>
</ul>
<p><strong>Same-Origin Policy Restriction:</strong></p>
<ul>
<li>For security reasons, browsers typically only fully honor the <code>download</code> attribute for <strong>same-origin</strong> links.<ul>
<li><strong>Same-Origin:</strong> The linked resource (<code>href</code> URL) is located on the <em>exact same</em> domain (and scheme, and port) as the HTML page containing the link.</li>
</ul>
</li>
<li><strong>Cross-Origin:</strong> If the <code>href</code> points to a resource on a <em>different domain</em> (e.g., linking from <code>mysite.com</code> to a file on <code>othersite.com</code>), browsers often <strong>ignore</strong> the <code>download</code> attribute. Clicking the link will likely result in standard navigation or inline display behavior for that cross-origin resource, subject to the <code>Content-Disposition</code> header sent by the <em>other</em> server.</li>
<li><strong>Why the Restriction?</strong> It prevents malicious sites from tricking users into downloading unwanted files from arbitrary external websites simply by adding a <code>download</code> attribute to a link.</li>
<li><strong>Workaround (Server-Side):</strong> For cross-origin downloads to be reliably triggered, the <em>server hosting the target file</em> usually needs to send the appropriate <code>Content-Disposition: attachment</code> header and potentially CORS (Cross-Origin Resource Sharing) headers like <code>Access-Control-Allow-Origin</code>. The <code>download</code> attribute alone cannot force a cross-origin download against browser security policies.</li>
</ul>
<p><strong>Browser Support:</strong></p>
<p>The <code>download</code> attribute itself is widely supported in modern browsers, but its effect on <em>cross-origin</em> resources is restricted by security policies.</p>
<p>✅ <strong>Observation:</strong> No code changes. Reflect on the download link example. Understand that while the <code>download</code> attribute is present, its effectiveness in <em>forcing</em> a download depends heavily on whether the link is same-origin or cross-origin, and potentially on server-side headers for cross-origin resources.</p>
<p>✨ <strong>Key Takeaway:</strong> The <code>download</code> attribute reliably suggests downloads primarily for <strong>same-origin</strong> resources. For cross-origin downloads, behavior is restricted by security policies, and server-side headers (<code>Content-Disposition</code>, CORS) play a more critical role.</p>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>